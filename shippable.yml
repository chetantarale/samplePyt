# Language setting
language: python

# Version number
python:
  - 2.7

build:
  ci:
    - python --version

integrations:
  hub:
    - integrationName: docker-pranay
      type: docker
      branches:
        only:
          - master
          - notifications_for_postCI

  notifications:
    - integrationName: pranay-hipchat
      type: hipchat
      recipients:
        - '#Pillar%20of%20Autumn'
        - '#shippable'
      on_start: always
      on_success: always
      on_failure: always
      on_pull_request: always

    - integrationName: sample-node-webhook
      type: webhook
      payload:
        - NEXT_PROJECT=true
        - BUILD_NUM=$SHIPPABLE_JOB_NUMBER
        - API_URL=$SHIPPABLE_API_URL
        - CONTAINER_NAME=$SHIPPABLE_CONTAINER_NAME
        - FOO=bar
        - FIZZ=buzz
      branches:
        only:
          - master
          - notifications_for_postCI

    - integrationName: sample-python-webhook
      type: webhook
      payload:
        - NEXT_PROJECT=true
        - IS_LEGACY=$SHIPPABLE_IS_LEGACY_IMAGE
        - RETRY_INTERVAL=$SHIPPABLE_API_RETRY_INTERVAL
      branches:
        only:
          - master
          - notifications_for_postCI

    - integrationName: github-webhook
      type: webhook
      payload:
        - title=$BUILD_NUMBER
        - body=Succeeded.
      branches:
        only:
          - master
          - notifications_for_postCI
